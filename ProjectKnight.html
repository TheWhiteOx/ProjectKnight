<head>
  <title>ProjectKnight</title>
</head>
<body>
 {{>loginButtons}}


{{#if currentUser}}
<div id = "playerPanel">
	
	{{> loginButtons}}
	<br>
	<br>
	<br>
		<div id="roomTitle"><center>{{> roomTitle}}</center></div>
	
		<div id="roomDesc">{{> roomDesc}}</div>
	
		<div id="roomContents">{{> roomContents}}</div>
	
		<div id="compass"><center>{{> compass}}</center></div>

		<div id="chatBox">{{> chatBox}}</div>
</div>


<div id = "builderPanel">
	{{> addRoom}}
	</div>

	<div id = "roomListPanel">
	{{> roomList}}
</div>
{{else}}
<div id = "loginTitle">{{> loginTitle}}</div>
{{/if}}	
 

</body>










<!--****TEMPLATES FROM HERE ON DOWN****TO BE MIGRATED TO SEPERATE FILES LATER-->
<template name = "logout">
Close Book
</template>


<template name = "loginTitle">
<center><h1><br><br><br>Origins</h1></center>
<form id = "loginTitlePage">
<div><center>Written By:</center><input type = "text" id = "userEmail" value = "Enter Your Email"></div>
<div><input type = "text" id = "userPassword" value = "Set Your Password"></div>
</form>
</template>

<template name = "roomTitle">
	<h2>{{roomTitleGet}}</h2>
</template>

<template name = "roomDesc">
	{{roomDescGet}}
</template>


<template name = "roomContents">
	{{#each arrayify listPlayers}}
	<div>{{name}} {{value}}
	</div>
	{{/each}}
</template>




<template name = "roomEvents">
	These are events that happen in the room.  Like players leaving, or objects getting picked up. Or even room events.
</template>

<template name = "compass">
	{{#if currentUser}}
	<table id = "compassTable">
		
		<tr>
			<td></td>
			<td class="north"><center>N</center></td>
			<td></td>
			<td class="up"><center>U</center></td>
		</tr>
		<tr>
			<td class ="west"><center>W</center></td>
			<td class ="origin"><center>&#9737;</center></td>
			<td class="east"><center>E</center></td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td class ="south"><center>S</center></td>
			<td></td>
			<td class ="down"><center>D</center></td>
		</tr>
	</table>
	{{/if}}
</template>

<template name = "chatBox">
	{{#if currentUser}}
	<form id = "chatForm">
		<input class = "submitChat" type = "submit" value = "Say:">
		<input type = "text" size = "" style = "width:90%"  id="chatTextInput">
	</form>
	{{/if}}
</template>





<!-- BUILDER TEMPLATES FROM HERE DOWN -->

<template name = "addRoom">
	{{#if isBuilder}}
	<form id = "addRoomForm">
	<div>Room Title<br>
      <input type = "text" size = "45" style = "width:95%" id = "roomTitle" value = "{{roomTitlePrefill}}" />
    </div>
    <br>

    <div>Room Description<br>
      <textarea type = "text" rows = "15" cols = "" style = "width:95%" id = "roomDesc" value = "{{roomDescPrefill}}"></textarea>
    </div>
    <br>
   <!-- <div>Room Contents<br>
      <input type = "text" id = "roomContents" value = "{{roomContentsPrefill}}"/>
    </div>
    <br>
    <div> Room Events<br>
      <input type = "text" id = "roomEvents" value = "{{roomEventsPrefill}}"/>
    </div>
	-->
    <br>

    <div>

	 <h3>Rooms to Connect To (enter roomId):</h3>

	<table id = "connectedTo" style = "width:95%">
	<tr>
		<td></td>
		<td>North<br><input type = "text" size = "" style = "width:95%" id = "connectedNorth" value = "{{connectedNorthPrefill}}"/></td>
		<td>Up<br><input type = "text" size = "" id = "connectedUp" value = "{{connectedUpPrefill}}"/></td>
	</tr>
	<tr>
		<td>West<br><input type = "text" size = "" style = "width:95%" id = "connectedWest" value = "{{connectedWestPrefill}}"/></td>
		<td></td>
		<td>East<br><input type = "text" size = "" style = "width:95%"  id = "connectedEast" value = "{{connectedEastPrefill}}"/></td>
	</tr>
	<tr>
		<td></td>
		<td>South<br><input type = "text" size = "" style = "width:95%"  id = "connectedSouth" value = "{{connectedSouthPrefill}}"/></td>
		<td>Down<br><input type = "text" size = "" style = "width:95%"  id = "connectedDown" value = "{{connectedDownPrefill}}"/></td>
	</tr>
	</table>
    </div>

    <div>
      <input class = "updateRoom" type = "submit" value = "Update or Add Room">
      &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
      <input type='button' id ='deleteRoom' value = 'Delete Room'/>
    </div>
   </form>
  {{/if}}
</template>


<template name = "roomList">
	{{#if isBuilder}}
	<ul>
     	<li class = "roomSelect {{selectedRoom}}"><br><center>Click here for new room.</center><br><br></li>	
     		
     </ul>
     
	{{#each listRooms}}
    <ul>
    <li class ="roomSelect {{selectedRoom}}">Room: {{roomTitle}}
    	<p>ID: {{_id}}</p>
    </li>
    </ul>
  	{{/each}}
  	<ul>
  		<li class = 'teleportTo'><input type = 'button' id ='teleportTo' value = 'Teleport To Selected Room'/></li>
  	</ul>
  	{{/if}}
</template>
